# ???? ????????? (????????? ??????)

## ??????? ?????????
- ????????????????: ????????/???????/?????, ???????? ????/?????, AI-??????, ??????? ????????, ingest ????? ? ???????.
- ???????????: FastAPI + PostgreSQL + Alembic; Android (Compose, MVVM); AI ???????? ??? ????? ??????? ?????? (ai_service_url).
- ?????: docker-compose ? NAS; health/full ??? ???????? ??, ?????-????? ? YOLO ?????.

## ???????? ????????? (2025-12-28)
- ????????? ???? `AI_YOLO_WEIGHTS_PATH` ? docker-compose; ????????? healthchecks.
- ????????? ????????? `video_frame_stride`/`video_max_frames` ? ???????????? ???????? ?????-???????.
- ????????? ??????? `status`/`source` ? `/api/v1/media/history`.
- ??????????? AI review ????????? user_id (owner_user_id ?????) ? ?????????? item/location.

## ???????????? ??????????
1) **???????????? ? ??????** (P0) ? ? ??????
   - ???????? ??????/JWT ?????? ???????? `get_current_user`.
   - ?????? ??????? ?? docker-compose (NAS ?????/?????? ? .env/secret store).
   - HTTPS/??????????? ??? ???????? ???????; ??????????? CORS.
2) **AI Review ? ????????????** (P1) ? ? ??????
   - DONE: ?????????? ??? ???????? ? `ai_detection_reviews` ? user_id.
   - DONE: ????????? item_id/location_id ? accept/reject/update_object.
   - DONE: ??????????????? ?????-?????? (stride/frames) + ????????.
   - TODO: typeahead ?? ?????????/????????, ?????????? ??????? ????? ID.
   - TODO: ????????? media viewer ? ???????? ? location picker ? UI.
3) **??????? ???????? ? ???????** (P1) ? ? ??????
   - DONE: ??????? status/source ? `/media/history`.
   - TODO: ??? ? Room ??? ???????/????????, ?????????????, offline-first ???????????.
   - TODO: ????????? ? ??????? ?? owner/status/source ? UI.
4) **??????/??????** (P1) ? ? ??????
   - ???????? ?????????? ?? hash/url, ????? ??????? ?????? ? UI.
   - ???????????? `attributes.links` (?????? ?????) ? ????????? URL ?? ????.
5) **????????????? ? ????????????** (P2) ? ? ??????
   - DONE: healthcheck `/api/v1/health/full` + docker healthchecks.
   - TODO: ??????? ??????? ????????/???????, ?????? ?? ???? FAILED.
   - TODO: ?????? ?? ? ?????????????? (cron/volume snapshot).

## ????????? ????????? API/??????
- DONE: ??????? status/source ? `/api/v1/media/history`.
- DONE: ????????? `video_frame_stride` ? `video_max_frames` ? `/media/upload`.
- DONE: ??????????? `ai_detection_reviews` ? user_id (owner_user_id).
- TODO: ??????? ? ????????? ? `/api/v1/ai/detections`.
- TODO: ?????????? `MediaUploadHistory` ?????? error/retry_count.
- TODO: ?????????? ?????? ?? item_id/location_id (400/404 ?????? FK).

## ??????????? ? ?????
- YOLO/CLIP ????: ????????? ????? ?? ???????? ??? ?????? ????????; ??? ??? ???????? ??????.
- NAS ??????: CIFS ?????, ???? 1Gb ? ????? ????? ????? ?????? ??? ?????.
- ????????? ?????????? (camera/storage) ? scoped storage ??? Android 13+.

## ???????? ?????????? ?? ???????????
- **????????????**: ??????? ????????; JWT ??????????? ? CRUD/AI; CORS ?????????; CI ?? ?????? ??????.
- **AI Review**: UI ???????? ??? ????? ID ???????, ??? ???????? ?????????? ? user_id; ???????? e2e (upload ? history ? AI Review ? accept).
- **???????/???????**: ?????? history/queue ???????? ??????? ? ???????????????? ????? ?????????????? ????.
- **?????????????**: health/full ???????, ???? ??????? ? ?????? ?? ???? ??????.
